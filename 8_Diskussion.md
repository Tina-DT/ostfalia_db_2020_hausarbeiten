## Diskussion
Die Lambda-Architektur ist ein Vorschlag von Nathan Marz, um sowohl die Konsistenz als auch die Verfügbarkeit und Partitionstoleranz eines Datensystems zu gewährleisten.

### Vorteile
Daten werden unveränderbar gespeichert, d.h. dass neue Fakten nicht einen bestehenden Fakt, der in der Vergangenheit gültig war, aktualisieren, sondern als neues Faktum für einen aktuelleren Zeitpunkt angehängt werden. Aus der Auflistung dieser historischen Fakten lassen sich weitere wertvolle Informationen und Erkenntnisse gewinnen, die bei einem Ansatz mit veränderbaren Daten nicht berechenbar wären. So ist z.B. für einen Online-Händler interessant, welche Artikel ein Kunde dem Warenkorb hinzufügt und auch wieder entfernt, bevor dieser den Kauf abschließt. Aus dem Verlauf ergibt sich sowohl die tatsächliche Bestellung, und aus den Daten über die aus dem Warenkorb entfernten Produkte kann auf Produkte geschlossen werden, die für den Kunden zu einem späteren Zeitpunkt interessant sein könnten.

Die Lambda-Architektur ermöglicht die Neuberechnung sämtlicher Views auf die Daten, da die Rohdaten unverändert vorgehalten werden. Dies ist insbesondere dann nützlich, wenn ein Algorithmus z.B. aufgrund geänderter Geschäftslogik, eines Fehlers im Code, oder um weitere Informationen abzubilden, angepasst wird. Es gibt keinen Zeitpunkt t, bis zu dem die Daten auf die eine Art, und ab Zeitpunkt t+1 auf eine andere Art berechnet wurden. Bei der Verwendung der Daten kann man sich somit auf eine Konsistenz verlassen, die bei einer inkrementellen Berechnung nur mit hohem Aufwand erreichbar wäre. Aus der Neuberechnung folgt auch eine Fehlertoleranz gegenüber menschlichen oder technischen Fehlern. Ist ein Algorithmus fehlerhaft, reicht es aus, den Fehler zu beheben und nach der Neuberechnung stehen die Daten fehlerfrei zur Verfügung.

### Nachteile
Die Lambda-Architektur ist durch die doppelte Code-Basis in Batch- und Speed-Layer sehr komplex. Beide Layer müssen Views mit derselben Struktur erzeugen, so dass diese dann zusammengeführt und verwendet werden können. Dabei werden in Batch- und Speed-Layer nicht nur unterschiedliche Technologien, sondern auch unterschiedliche Algorithmen eingesetzt, da beide Layer verschiedene Anforderungen erfüllen müssen.

Ein Vorschlag, um die Software für die unterschiedlichen Layer einfacher vorzuhalten, ist es, ein Framework wie Summingbird[Sum20] einzusetzen, welches sowohl Batch- als aus Speed-Layer abstrahiert. Dadurch wird die Software mit Hilfe des Frameworks erstellt und anschließend durch das Framework für Batch- und Speed-Layer optimiert. Ein solches Framework kann allerdings auch nur die Schnittmenge der Fähigkeiten der abstrahierten Systeme abbilden. Zudem kann ein solches Framework bei der Erstellung der Software helfen, nicht aber bei den Aufgaben, die nötig sind, um zwei unterschiedliche Systeme betriebsbereit zu halten.[Kre14]

### Kappa-Architektur
Eine von Jay Kreps vorgeschlagene Modifikation der Lambda-Architektur ist das Weglassen des Batch-Layers, so dass die Erzeugung der Views ausschließlich durch Stream-Processing (Speed-Layer) geschieht. Durch diese Änderung würde die hohe Komplexität der Lambda Architektur reduziert werden. Kreps schlägt vor, Stream-Processing-Systeme so weit auszunutzen oder zu verbessern, dass diese nicht mehr mit Batch-Processing-Systemen kombiniert werden müssen. Für diesen Ansatz wurde der Name Kappa-Architektur vorgeschlagen.

[< 7. Query-Layer](7_Query_Layer.md) | [9. Literaturverzeichnis >](9_Literaturverzeichnis.md)